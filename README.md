# –ü–∞—Ä—Å–µ—Ä –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "4 –ª–∞–ø—ã" üêæ

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "4 –ª–∞–ø—ã"! –≠—Ç–æ—Ç 
–ø–∞—Ä—Å–µ—Ä –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏–∑ –º–æ–±–∏–ª—å–Ω–æ–≥–æ 
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —É–¥–æ–±–Ω–æ–º –∏ 
—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º, —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ñ–æ—Ä–º–∞—Ç–µ.

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π ‚öôÔ∏è
- Python 3.10 (async)
- Aiohttp
- Celery 
- Flower 
- RabbitMQ

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º "4 –ª–∞–ø—ã".

_P.s. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è —á–µ—Ä–µ–∑ [Network Sniffer](https://apps.apple.com/us/app/network-sniffer/id6450956188)_

–û–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª—é–±—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –≥–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ –±–æ–ª–µ–µ 100 —Ç–æ–≤–∞—Ä–æ–≤, –¥–ª—è –ª—é–±—ã—Ö –≥–æ—Ä–æ–¥–æ–≤. 
–í—ã–≥—Ä—É–∑–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö _CSV, JSON –∏–ª–∏ XLSX_.

#### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
- ID —Ç–æ–≤–∞—Ä–∞
- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä
- –†–µ–≥—É–ª—è—Ä–Ω–∞—è —Ü–µ–Ω–∞
- –ü—Ä–æ–º–æ —Ü–µ–Ω–∞
- –ë—Ä–µ–Ω–¥

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ üöÄ
–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/Gricana/async_hard_parser.git
cd async_hard_parser
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ bash-—Å–∫—Ä–∏–ø—Ç **_setup.sh_**: 

–î–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ 
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ _(python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, redis-—Å–µ—Ä–≤–µ—Ä, celery, flower, 
rabbitmq-server –∏ –ø–ª–∞–≥–∏–Ω rabbitmq_management)_.
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–∞—Ç—å –µ–º—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:

```bash
chmod +x setup.sh
./setup.sh
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è üìÑ
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–µ—Ä–∞ **_main.py_**, –ø–µ—Ä–µ–¥–∞–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è 
  –ø–∞—Ä—Å–∏–Ω–≥–∞:

```bash
python main.py <category> <city> <min_goods> <filename>
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
python main.py "–º–∏—Å–∫–∏, –∫–æ—Ä–º—É—à–∫–∏, –ø–æ–∏–ª–∫–∏ –¥–ª—è –∫–æ—à–µ–∫" "–ú–æ—Å–∫–≤–∞" 100 "moscow_goods.
json"
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á —Å Flower üåº
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É 
[Flower](http://localhost:5555) 
–∏ [RabbitMQ Management Plugin](http://localhost:15672/)

–í Flower –í—ã —Å–º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏ –æ–∂–∏–¥–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏.

–ê —Å –ø–æ–º–æ—â—å—é RabbitMQ Management Plugin —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—á–µ—Ä–µ–¥—è–º–∏, –æ–±–º–µ–Ω–Ω–∏–∫–∞–º–∏, 
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ RabbitMQ-—Å–µ—Ä–≤–µ—Ä–∞. 

–õ–æ–≥–∏ Celery –∏ Flower —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª—ã **_celery.log_** –∏ **_flower.log_** 
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.